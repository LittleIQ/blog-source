---
title: 小型电商网站开发（一）
date: 2018-01-25 19:19:54
tags: [开发记录, 架构设计]
categories: 网站开发
---

# 做这个项目的起因...

今年暑假想尝试开发一个网站项目练手，和舍友商量着按Java web的标准开发结构先尝试合作开发一下服务器端的内容。接着在慕课网看到一个关于[电商网站前端的实战课程](https://coding.imooc.com/learn/list/109.html)，于是确定下来要开发一个小型的电商网站，前端的部分就打算归自己试试看，后端和舍友一起联手开发一下。

<!--more-->

这篇的内容是**项目的前期准备工作和前端架构的介绍**，细致的前端和后端开发内容后续还会写出来。

# 一、电商平台需求分析

## 电商平台内容

{% asset_img ECrequire-1.jpg ECrequire-1 %}

### 1.购买

包括：展示商品、将商品加入购物车、购物车中商品的下单、订单的管理与订单的支付等。

### 2.用户

包括：账号体系、用户信息、常用地址、~~等级体系、用户行为分析、会员~~等。

### 3.后台运营

包括：商品管理、用户管理、订单管理、财务管理、~~推荐系统、客服系统、广告系统~~等。

### ~~4.统计系统~~

### ~~5.市场系统~~

...

## 需求拆分

> 需求拆分原则
>
> - 单个迭代不宜太大
> - 需求可交付，能形成功能闭环
> - 有成本意识，遵守二八原则
> - 由预期的价值体现

### 提炼核心需求

电商网站的功能显而易见，所以用户行为非常好划分，将其归于用户端

#### 用户端

**功能模块：商品、购物车、订单、支付、用户** 

- **商品** ：首页、商品列表、商品详情
- **购物车** ：商品数量、添加 删除商品、购物车提交
- **订单** ：订单确认（地址管理）、订单提交、订单列表、订单详情
- **支付** ：支付
- **用户** ：登录、注册、个人信息、找回密码、修改密码

由于要对商品、品类等进用户不可见的管理，所以还需要有后台管理

#### 后台管理

**功能模块：商品管理、品类管理、订单管理、权限** 

- **商品管理** ：添加/编辑商品，查看商品、下架
- **品类管理** ：添加品类、查看品类
- **订单管理** ：订单列表、订单详情、发货
- **权限** ：管理员登录

# 二、架构设计及技术选型

## 采用的架构设计

### 分层架构

- 定义：把功能相似，抽象级别相近的实现进行分层隔离
- 优势：松散耦合（易维护、易服用、易扩展）

### 模块化

- 定义：解决一个复杂问题时，自顶向下逐层把系统划分成若干模块的过程
- 意义：解耦、可并行开发
- 采用的模块化方案：CommonJS

**最终的架构图如下：**

{% asset_img EC-ArchitectureDesign-1.jpg EC-ArchitectureDesign-1 %}

## 技术选型

### 软件过程

**选用了敏捷开发** ：迭代、循序渐进的进行软件开发，能够应对满足不断变化的需求

### 前后端分离

**选用完全静态的完全分离** ：使用纯静态HTML、完全通过接口做数据交互，完全脱离后端模板，系统复杂度低，但不利于SEO（将使用ServerRender/蜘蛛定制页面的方法解决）

### 框架选型

#### 用户端框架

为了访问的稳定性，选择使用JQuery和CSS本身，不使用多余框架

#### 后台管理

要求快速搭建、且用户类型单一，不担心兼容性问题，所以选用开发快捷的React和Sass

### 构建工具和版本控制

`选用Webpack和Git`

## 发布方式及域名分布

发布方式：

1. 从Git上拉取待发布代码
2. 编译打包
3. 发布到线上机器

域名分布

- HTML：用户端www./管理端admin.
- JS + CSS：s.
- image：img.

# 三、前后端的配合方式及数据接口的定义

{% asset_img EC-Divide-1.jpg EC-Divide-1 %}

## 接口文档

先形成接口文档，再进行开发，有利于维护和快速开发

### 接口文档的格式

------

**模板** —————接口名称

/product/.do————接口地址

> **request** ————请求信息

```json
{
  "name": "k"
}
```
> **response** ————响应信息

Success

```json
{
  "status": 0,//接口状态:0成功，1失败，10未登录
  "data": {
    "id": 2,
    "name": "milkiq"
  }
}
```
Fail
```json
{
  "status": 1,
  "msg": "该商品已下架或删除"//接口错误信息
}
```
------

### 注意：

**[1] 接口文档最好拥有索引和目录，方便查找和完善**

**[2] 在开发过程中接口有变动也要及时更改文档** 

# 四、开发环境搭建

语言环境：JQuery、Webpack（必须安装NodeJS）、Git

开发工具：

1. 开发工具：SublimeText3
2. 浏览器：Chrome
3. 代理工具：Fiddler

需安装的软件有：

1. NodeJS
2. Git
3. Sublime
4. Chrome
5. Fiddler

具体安装方法不一一赘述，各个博客教程非常之多，有的软件甚至打开安装包一路next就可以了~

接下来的几篇前端和后端的内容可能会交叉，等整个系列都记录下来再做各部分的整理，就这样啦，下篇见~